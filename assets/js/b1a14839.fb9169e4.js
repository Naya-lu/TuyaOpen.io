"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([[1102],{710:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"quick_start/windows-enviroment-setup","title":"Setup For Windows","description":"Overview","source":"@site/docs/quick_start/windows-enviroment-setup.md","sourceDirName":"quick_start","slug":"/quick_start/windows-enviroment-setup","permalink":"/docs/quick_start/windows-enviroment-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/tuya/TuyaOpen/edit/master/docs/quick_start/windows-enviroment-setup.md","tags":[],"version":"current","frontMatter":{"title":"Setup For Windows"},"sidebar":"docs","previous":{"title":"About TuyaOpen","permalink":"/docs/about-tuyaopen"},"next":{"title":"Setup For Linux","permalink":"/docs/quick_start/linux-enviroment-setup"}}');var l=i(4848),o=i(8453);const r={title:"Setup For Windows"},t="Setup For Windows",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Usage Limitations",id:"usage-limitations",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"<code>tos.py</code> Usage Guide",id:"tospy-usage-guide",level:2},{value:"Basic Commands",id:"basic-commands",level:3},{value:"Common Operation Examples",id:"common-operation-examples",level:3},{value:"Common Issues",id:"common-issues",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"setup-for-windows",children:"Setup For Windows"})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"tos.py"})," is TuyaOpen's build tool that supports project creation, compilation, configuration, and various other features. This document will guide you through using the ",(0,l.jsx)(n.code,{children:"tos.py"})," tool for TuyaOpen project development and debugging on Windows 10/11 systems."]}),"\n",(0,l.jsx)(n.h3,{id:"key-features",children:"Key Features"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Project creation and compilation support"}),"\n",(0,l.jsx)(n.li,{children:"Project configuration management"}),"\n",(0,l.jsx)(n.li,{children:"Firmware flashing capabilities"}),"\n",(0,l.jsx)(n.li,{children:"Device log monitoring"}),"\n",(0,l.jsx)(n.li,{children:"Version management and environment checking"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.p,{children:"Before getting started, ensure your system meets the following requirements:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Windows 10/11 operating system"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Python 3.10.0 or higher [",(0,l.jsx)(n.a,{href:"https://apps.microsoft.com/detail/9pjpw5ldxlz5",children:"https://apps.microsoft.com/detail/9pjpw5ldxlz5"}),"]"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Download and install from Windows Store"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Git 2.0.0 or higher [",(0,l.jsx)(n.a,{href:"https://git-scm.com/downloads/win",children:"https://git-scm.com/downloads/win"}),"]"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Download installer and install manually"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["CMake 4.0.2 or higher [",(0,l.jsx)(n.a,{href:"https://cmake.org/download/",children:"https://cmake.org/download/"}),"]"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Download installer and install manually"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Ninja 1.11.1 or higher [",(0,l.jsx)(n.a,{href:"https://github.com/ninja-build/ninja/releases",children:"https://github.com/ninja-build/ninja/releases"}),"]"]}),"\n",(0,l.jsxs)(i,{children:[(0,l.jsx)("summary",{children:"Ninja Installation Instructions"}),(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Download Ninja"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Visit the ",(0,l.jsx)(n.a,{href:"https://github.com/ninja-build/ninja/releases",children:"Ninja releases page"})]}),"\n",(0,l.jsxs)(n.li,{children:["Download the latest version of ",(0,l.jsx)(n.code,{children:"ninja-win.zip"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Installation Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Extract the downloaded ",(0,l.jsx)(n.code,{children:"ninja-win.zip"})," file"]}),"\n",(0,l.jsxs)(n.li,{children:["Copy the extracted ",(0,l.jsx)(n.code,{children:"ninja.exe"})," to one of the following locations:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"C:\\Windows"})," (requires administrator privileges)"]}),"\n",(0,l.jsx)(n.li,{children:"Or add to any directory in the system's Path environment variable"}),"\n",(0,l.jsx)(n.li,{children:"Or place directly in the TuyaOpen project root directory"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Verify Installation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"ninja --version\n"})}),"\n"]}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If choosing to place ninja.exe in the project directory, ensure it exists before running ",(0,l.jsx)(n.code,{children:"export.bat"})]}),"\n",(0,l.jsx)(n.li,{children:"It's recommended to place ninja.exe in a system directory or add it to the environment variables for global usage"}),"\n"]})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"usage-limitations",children:"Usage Limitations"}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Note As of 2025/05/30, the tos.py tool in Windows development environment currently only supports ESP32. Tuya T5 chip support is planned for ",(0,l.jsx)(n.code,{children:"mid-June"}),"."]})}),"\n",(0,l.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Clone TuyaOpen Repository"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"# PowerShell or CMD\ngit clone https://github.com/tuya/TuyaOpen.git\ncd TuyaOpen\ngit submodule update --init\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Configure Development Environment"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"# PowerShell or CMD\n.\\export.bat\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"Verify Environment"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"# PowerShell or CMD\ntos.py version\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"Exit Development Environment"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"# PowerShell or CMD\nexit\n"})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsx)(n.mdxAdmonitionTitle,{}),(0,l.jsx)(n.p,{children:"Command Line Selection You can use any of the following command line tools:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"PowerShell (recommended)"}),"\n",(0,l.jsx)(n.li,{children:"Windows Command Prompt (CMD)"}),"\n"]})]}),"\n",(0,l.jsxs)(n.admonition,{type:"warning",children:[(0,l.jsx)(n.mdxAdmonitionTitle,{}),(0,l.jsx)(n.p,{children:"Note Git Bash (Linux-like environment) is not compatible with the tos.py tool. Please use PowerShell or CMD."})]}),"\n",(0,l.jsxs)(n.h2,{id:"tospy-usage-guide",children:[(0,l.jsx)(n.code,{children:"tos.py"})," Usage Guide"]}),"\n",(0,l.jsx)(n.h3,{id:"basic-commands",children:"Basic Commands"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"tos.py [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  -d, --debug  Display debug information\n  -h, --help   Display help information\n\nCommands:\n  version   Display version information\n  check     Check dependency tools\n  config    Configuration file operations\n  build     Build project\n  clean     Clean project\n  flash     Flash firmware\n  monitor   Display device logs\n"})}),"\n",(0,l.jsx)(n.h3,{id:"common-operation-examples",children:"Common Operation Examples"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Check Environment"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# In project directory\ntos.py check\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ensure toolchain meets requirements. If any tools are missing, refer to the installation methods above.","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"(tos) $ tos.py check\n[INFO]: Running tos.py ...\n[INFO]: [git] (2.49.0 >= 2.0.0) is ok.\n[ERROR]: [cmake] not found, please install.\n[INFO]: [ninja] (1.12.1 >= 1.6.0) is ok.\n[INFO]: Downloading submoudules ...\n[INFO]: Download submoudules successfully.\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Build Project"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# In project directory\ntos.py build\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"Clean Project"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# In project directory\ntos.py clean\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"Flash Firmware"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# In project directory\ntos.py flash\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Flashing Process","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Connect USB to the development board's USB serial port"}),"\n",(0,l.jsxs)(n.li,{children:["After running ",(0,l.jsx)(n.code,{children:"tos.py flash"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"T5: Press reset button"}),"\n",(0,l.jsx)(n.li,{children:"ESP32: Press reset + Boot buttons"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Configure Project (Chip/Features)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# In project directory\ntos.py config\n"})}),"\n",(0,l.jsx)(n.p,{children:"Output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"Usage: tos.py config [OPTIONS] COMMAND [ARGS]...\n\nConfiguration file operation.\n\nOptions:\n-h, --help  Show this message and exit.\n\nCommands:\nchoice  Choice config file.\nmenu    Menuconfig.\nsave    Save minimal config.\n"})}),"\n",(0,l.jsx)(n.p,{children:"5.1. Configure Chip Platform"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["TuyaOpen supports cross-platform chip capabilities. The ",(0,l.jsx)(n.code,{children:"tos.py config choice"})," command allows project compilation to switch between different chip platforms."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"::: tip\nImportant Note To achieve seamless chip platform switching, your project code must use Tuya's Hardware Abstraction Layer (HAL) APIs, known as tkl APIs. These APIs encapsulate underlying hardware details, enabling your application code to work seamlessly across different chip platforms. If your code directly calls native chip-specific APIs, cross-platform switching will not be possible.\n:::"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# In project directory\ntos.py config choice\n"})}),"\n",(0,l.jsx)(n.p,{children:"Output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'[INFO]: Running tos.py ...\n--------------------\n1. BK7231X.config\n2. ESP32-C3.config\n3. ESP32-S3.config\n4. ESP32.config\n5. LN882H.config\n6. T2.config\n7. T3.config\n8. T5AI.config\n9. Ubuntu.config\n--------------------\nInput "q" to exit.\nChoice config file:\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Issue: Cannot find tos.py command Solution:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ensure you have executed ",(0,l.jsx)(n.code,{children:".\\export.bat"})," to enter the development environment"]}),"\n",(0,l.jsx)(n.li,{children:"Verify you are in the TuyaOpen directory"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Issue: pip dependency installation failure Solution:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check network connection"}),"\n",(0,l.jsxs)(n.li,{children:["Try using a domestic mirror source:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Check out ",(0,l.jsx)(n.a,{href:"../examples/index.rst",children:"Project Examples"})," to learn more about usage scenarios and start compiling your project."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var s=i(6540);const l={},o=s.createContext(l);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
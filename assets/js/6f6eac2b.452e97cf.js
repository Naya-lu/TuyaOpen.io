"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([[6488],{855:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"quick_start/linux-enviroment-setup","title":"Setup For Linux","description":"Install Dependencies","source":"@site/docs/quick_start/linux-enviroment-setup.md","sourceDirName":"quick_start","slug":"/quick_start/linux-enviroment-setup","permalink":"/docs/quick_start/linux-enviroment-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/quick_start/linux-enviroment-setup.md","tags":[],"version":"current","frontMatter":{"title":"Setup For Linux"}}');var s=i(4848),o=i(8453);const a={title:"Setup For Linux"},l="Setup for Linux",c={},r=[{value:"Install Dependencies",id:"install-dependencies",level:2},{value:"Clone Repository",id:"clone-repository",level:2},{value:"Setup and Compilation",id:"setup-and-compilation",level:2},{value:"step1. Set Environment Variables",id:"step1-set-environment-variables",level:3},{value:"step2. Select Project to Compile",id:"step2-select-project-to-compile",level:3},{value:"step3. Compile",id:"step3-compile",level:3},{value:"step4. menuconfig Configuration",id:"step4-menuconfig-configuration",level:3},{value:"Flashing and Authorization",id:"flashing-and-authorization",level:2},{value:"Command Line Flashing",id:"command-line-flashing",level:3},{value:"GUI Tool Flashing",id:"gui-tool-flashing",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setup-for-linux",children:"Setup for Linux"})}),"\n",(0,s.jsx)(n.h2,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ubuntu and Debian"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install lcov cmake-curses-gui build-essential ninja-build wget git python3 python3-pip python3-venv libc6-i386 libsystemd-dev\n"})}),"\n",(0,s.jsx)(n.h2,{id:"clone-repository",children:"Clone Repository"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/tuya/TuyaOpen.git\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The TuyaOpen repository contains multiple submodules. The tos tool will ",(0,s.jsx)(n.strong,{children:"automatically check and download submodules before compilation"}),", or you can manually download them using:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git submodule update --init\n"})}),"\n",(0,s.jsx)(n.h2,{id:"setup-and-compilation",children:"Setup and Compilation"}),"\n",(0,s.jsx)(n.h3,{id:"step1-set-environment-variables",children:"step1. Set Environment Variables"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd TuyaOpen\nexport PATH=$PATH:$PWD\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or add the TuyaOpen path to system environment variables:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"vim ~/.bashrc\n# Add the following content\nexport PATH=$PATH:/path/to/your/TuyaOpen\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Attention"}),": Replace ",(0,s.jsx)(n.code,{children:"/path/to/your/TuyaOpen"})," with the actual path to your TuyaOpen directory."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["After adding the environment variable with vim, enter ",(0,s.jsx)(n.code,{children:":wq"})," to save, and use ",(0,s.jsx)(n.code,{children:"source ~/.bashrc"})," to activate the environment variables. For detailed usage of tos command, please refer to ",(0,s.jsx)(n.a,{href:"/tos_guide/index",children:"tos command"}),"."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": TuyaOpen uses the tos command for compilation, debugging and other operations. The tos command will search for the TuyaOpen repository based on the path set in environment variables."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step2-select-project-to-compile",children:"step2. Select Project to Compile"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Method 1"}),": Compile example"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Select an example to compile using:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd TuyaOpen\ntos set_example\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After platform selection, the ",(0,s.jsx)(n.code,{children:"examples"})," directory will be updated with platform-specific examples."]}),"\n",(0,s.jsxs)(n.p,{children:["More example information: ",(0,s.jsx)(n.a,{href:"/examples/index",children:"Example Projects"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Method 2"}),": Compile app"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Select an app to compile (e.g. ",(0,s.jsx)(n.a,{href:"https://github.com/tuya/TuyaOpen/tree/master/apps/tuya_cloud/switch_demo",children:"apps/tuya_cloud/switch_demo"}),") and navigate to its directory."]}),"\n",(0,s.jsx)(n.p,{children:"Use:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tos config_choice\n"})}),"\n",(0,s.jsx)(n.p,{children:"to select target platform or board."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[TuyaOpen/apps/tuya_cloud/switch_demo/config] is empty.\nUsing boards default config file.\n========================\nConfigs\n  1. BK7231X.config\n  2. ESP32-C3.config\n  3. ESP32.config\n  4. ESP32-S3.config\n  5. LN882H.config\n  6. T2.config\n  7. T3.config\n  8. T5AI.config\n  9. Ubuntu.config\n------------------------\nPlease select:\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"tos config_choice"})," command reads configuration files in the project's ",(0,s.jsx)(n.code,{children:"config"})," directory and generates ",(0,s.jsx)(n.code,{children:"app_default.config"})," for the current project."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important"}),": After switching config with ",(0,s.jsx)(n.code,{children:"tos config_choice"}),", tos will automatically clean previously generated intermediate files."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step3-compile",children:"step3. Compile"}),"\n",(0,s.jsx)(n.p,{children:"Navigate to the target project directory (examples or apps) and run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd apps/tuya_cloud/switch_demo\ntos build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Compiled binaries will be located in ",(0,s.jsx)(n.code,{children:".build/<project>/bin"})," directory of the current project, e.g. ",(0,s.jsx)(n.code,{children:"apps/tuya_cloud/switch_demo/.build/bin"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Output files include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"switch_demo_QIO_1.0.0.bin: Complete firmware with bootloader for flashing"}),"\n",(0,s.jsx)(n.li,{children:"switch_demo_UA_1.0.0.bin: Application firmware without bootloader (must be flashed to correct address based on platform/chip)"}),"\n",(0,s.jsx)(n.li,{children:"switch_demo_UG_1.0.0.bin: OTA upgrade file (cannot run directly after flashing)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Default project name matches directory name, version defaults to ",(0,s.jsx)(n.code,{children:"1.0.0"}),". Modify via ",(0,s.jsx)(n.code,{children:"tos menuconfig"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"step4-menuconfig-configuration",children:"step4. menuconfig Configuration"}),"\n",(0,s.jsx)(n.p,{children:"To modify project configuration, navigate to target project directory and run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd apps/tuya_cloud/switch_demo\ntos menuconfig\n"})}),"\n",(0,s.jsx)(n.p,{children:"Configure the project and recompile after saving changes."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important"}),": Changing chip/board via ",(0,s.jsx)(n.code,{children:"tos menuconfig"})," will automatically clean previous build artifacts."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"flashing-and-authorization",children:"Flashing and Authorization"}),"\n",(0,s.jsx)(n.h3,{id:"command-line-flashing",children:"Command Line Flashing"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"tos flash"})," for one-click flashing: ",(0,s.jsx)(n.a,{href:"cli-flash",children:"CLI Flashing"})]}),"\n",(0,s.jsx)(n.h3,{id:"gui-tool-flashing",children:"GUI Tool Flashing"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"tyutool gui"})," provides complete graphical flashing solution with serial debugging, firmware flashing and authorization management. Currently supports T2/T3/T5AI/BK7231N/LN882H/ESP32 chips via serial flashing, available for Windows/Linux/macOS:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Windows: ",(0,s.jsx)(n.a,{href:"https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/win_tyutool_gui.zip",children:"tyutool_win"})]}),"\n",(0,s.jsxs)(n.li,{children:["Linux: ",(0,s.jsx)(n.a,{href:"https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/tyutool_gui.tar.gz",children:"tyutool_linux.tar"})]}),"\n",(0,s.jsxs)(n.li,{children:["macOS_x86: ",(0,s.jsx)(n.a,{href:"https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/darwin_x86_tyutool_gui.tar.gz",children:"tyutool_mac_x86"})]}),"\n",(0,s.jsxs)(n.li,{children:["macOS_arm64: ",(0,s.jsx)(n.a,{href:"https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/darwin_arm64_tyutool_gui.tar.gz",children:"tyutool_mac_arm64.zip"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For GUI flashing tutorial: ",(0,s.jsx)(n.a,{href:"gui-flash",children:"GUI Flashing"})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var t=i(6540);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);